(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1851:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(5155),a=t(5695),n=t(9597);function i(){let e=(0,a.useRouter)();return(0,r.jsxs)("div",{className:"max-w-md mx-auto py-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Register"}),(0,r.jsx)(n.A,{onSuccess:()=>{e.push("/")}})]})}},4034:(e,s,t)=>{Promise.resolve().then(t.bind(t,1851))},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},9597:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var r=t(5155),a=t(2115),n=t(5695);let i=e=>/[a-z]/.test(e),o=e=>/[A-Z]/.test(e),d=e=>/\d/.test(e),l=e=>/[^a-zA-Z0-9]/.test(e),m=e=>{for(let s=0;s<e.length;s++){let t=e.charCodeAt(s);if(!(t>47&&t<58)&&!(t>64&&t<91)&&!(t>96&&t<123))return!1}return e.length>0};function u(e){let{onSuccess:s}=e,[t,u]=(0,a.useState)({username:"",email:"",password:""}),[c,h]=(0,a.useState)({}),[p,f]=(0,a.useState)(!1),b=(0,n.useRouter)(),g=()=>{let e={};return t.username.trim()?m(t.username)?(t.username.length<5||t.username.length>20)&&(e.username="Username must be between 5-20 characters"):e.username="Username can only contain letters and numbers":e.username="Username is required",t.password?t.password.length<8||t.password.length>20?e.password="Password must be between 8-20 characters":i(t.password)&&o(t.password)&&d(t.password)&&l(t.password)||(e.password="Password must contain at least one uppercase, one lowercase, one number and one special character"):e.password="Password is required",t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(e.email="Invalid email format"):e.email="Email is required",h(e),0===Object.keys(e).length},w=async e=>{if(e.preventDefault(),g()){f(!0);try{let e=await fetch("/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let s=await e.json();throw Error(s.detail||"Registration failed")}s?s():b.push("/")}catch(e){h({submit:e instanceof Error?e.message:"Registration failed"})}finally{f(!1)}}},x=e=>{let{name:s,value:t}=e.target;u(e=>({...e,[s]:t}))};return(0,r.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[c.submit&&(0,r.jsx)("div",{className:"text-red-500 text-sm",children:c.submit}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium",children:"Username"}),(0,r.jsx)("input",{type:"text",id:"username",name:"username",value:t.username,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),c.username&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c.username})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),c.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:t.password,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),c.password&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c.password})]}),(0,r.jsx)("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:p?"Registering...":"Register"})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(4034)),_N_E=e.O()}]);